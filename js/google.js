  /*
  function $(id) {
        return document.getElementById(id);
      }
    */ 
	  
      var map;
	  var markers=[];
      var infowindow;
	   var houses = [];
	  

	

      function initMap() {
	  
	  var mapOptions = {
        center: new google.maps.LatLng(55.026399,83.024025),
        zoom: 15,
        mapTypeId: google.maps.MapTypeId.ROADMAP
      };
	  
        map = new google.maps.Map($("map_canvas"), mapOptions);
        line = new google.maps.Polyline({
          map: map,
          strokeColor: "#FF3333",
          strokeOpacity: 0.5,
          strokeWeight: 8
        });
		
	  houses[0]=['ул.В.Высоцкого, д.40/2',55.03533, 83.025388,55.035355,83.025827,55.034454,83.026058,55.034423,83.025634,55.034949,83.025752];
	  houses[1]=['ул.В.Высоцкого, д.41/2',55.034329,83.025892,55.034348,83.026104,55.032918,83.026495,55.0329,83.026283,55.033581,83.026203 ];
	  houses[2]=['ул.В.Высоцкого, д.41/3',55.032691,83.026342,55.032709,83.026557,55.031893,83.026806,55.031873,83.0266,55.032357,83.026568 ];
	  houses[3]=['ул.В.Высоцкого, д.41/4',55.032852,83.025591,55.032871,83.025827,55.031933,83.026106,55.031918,83.025892,55.032406,83.025905];
	  houses[4]=['ул.В.Высоцкого, д.41/5',55.033974,83.025162,55.033999,83.025361,55.033117,83.025624,55.033095,83.02543,55.033649,83.025436];
	  houses[5]=['ул.В.Высоцкого, д.42/1',55.029922,83.02484,55.029936,83.025015,55.029104,83.025251,55.029091,83.025079,55.029586,83.025028];
	  houses[6]=['ул.В.Высоцкого, д.42/3',55.028825,83.026203,55.028846,83.026412,55.027613,83.026755,55.027592,83.026546,55.028259,83.026466];	  
	  houses[7]=['ул.В.Высоцкого, д.50/1',55.027066,83.025629,55.027078,83.025838,55.026273,83.026042,55.02626,83.025838,55.026718,83.025833];
	  houses[8]=['ул.В.Высоцкого, д.50/2',55.024841,83.025886,55.024863,83.026109,55.024212,83.026291,55.024192,83.026066,55.024572,83.026071];
	  houses[9]=['ул.В.Высоцкого, д.50/3',55.024612,83.024854,55.024641,83.025109,55.023254,83.025578,55.023227,83.025326,55.023902,83.025237];
	  houses[10]=['ул.В.Высоцкого, д.50/4',55.02394,83.024068,55.023968,83.024325,55.023173,83.024559,55.023148,83.024299,55.02363,83.024296];
	  houses[11]=['ул.В.Высоцкого, д.52/1',55.025939,83.026173,55.02596,83.026479,55.025565,83.026568,55.025544,83.026267,55.02579,83.026361];
	  houses[12]=['ул.В.Высоцкого, д.52/3',55.026191,83.028137,55.026222,83.028453,55.025797,83.028585,55.025762,83.028268,55.026053,83.028346];
	  houses[13]=['ул.В.Высоцкого, д.52',55.031373,83.026664,55.031401,83.026946,55.030597,83.027195,55.030568,83.026914,55.031024,83.026932];
	  houses[14]=['ул.В.Высоцкого, д.54',55.030025,83.025983,55.030053,83.026262,55.029252,83.026511,55.029223,83.026232,55.029735,83.026227];
	  houses[15]=['ул.В.Высоцкого, д.54/1',55.030184,83.027024,55.030217,83.027308,55.029353,83.027539,55.029323,83.02727,55.029741,83.027276];
	  houses[16]=['ул.В.Высоцкого, д.54/2',55.028901,83.027297,55.028938,83.027646,55.027712,83.028016,55.027681,83.027673,55.028446,83.027539];
	  houses[17]=['ул.В.Высоцкого, д.62',55.027287,83.027793,55.027318,83.028113,55.026479,83.028354,55.026448,83.02803,55.026892,83.028067];
	  houses[18]=['ул.В.Высоцкого, д.64',55.027186,83.026817,55.02721,83.027131,55.026383,83.027335,55.026359,83.027026,55.026852,83.027061];
	  houses[19]=['ул.В.Высоцкого, д.34',55.030978,83.021847,55.031,83.022072,55.03038,83.022241,55.030362,83.022021,55.030703,83.022037];
	  houses[20]=['ул.Т.Снежиной, д.46/1',55.022879,83.023526,55.022809,83.023829,55.021556,83.022913,55.02163,83.022605,55.022263,83.023261];
	  houses[21]=['ул.Т.Снежиной, д.46',55.023088,83.022365,55.023007,83.022748,55.021843,83.021976,55.021921,83.021595,55.022496,83.022193];
	  houses[22]=['ул.Т.Снежиной, д.48',55.024424,83.023408,55.024351,83.023719,55.023166,83.022845,55.02324,83.022531,55.023853,83.023204];
	  houses[23]=['ул.Т.Снежиной, д.49/1',55.023757,83.01953,55.02368,83.019878,55.022472,83.019052,55.022546,83.018695,55.023087,83.019288];
	  houses[24]=['ул.Т.Снежиной, д.49',55.023462,83.020785,55.023407,83.021064,55.022201,83.020163,55.022266,83.019894,55.022908,83.020549];
	  houses[25]=['ул.Т.Снежиной, д.51',55.024438,83.021453,55.02438,83.021724,55.023519,83.021155,55.023573,83.020889,55.023989,83.021308];
	  houses[26]=['ул.Т.Снежиной, д.51',55.025407,83.021686,55.025388,83.021965,55.024567,83.021791,55.024584,83.021514,55.025007,83.02175];
	  houses[27]=['ул.Т.Снежиной, д.45',55.021923,83.015319,55.021967,83.015638,55.021151,83.015997,55.021103,83.015681,55.021625,83.015632];
	  houses[28]=['ул.Т.Снежиной, д.45/1',55.021897,83.016473,55.021937,83.016763,55.021519,83.016935,55.021479,83.016645,55.021726,83.016703];
	  houses[29]=['ул.Т.Снежиной, д.45/1',55.022421,83.016212,55.022469,83.016507,55.022069,83.016697,55.02202,83.016407,55.022247,83.016445];
	  houses[30]=['ул.Т.Снежиной, д.31',55.021554,83.013049,55.0216,83.01335,55.020814,83.013736,55.020767,83.013433,55.021222,83.013385];
	  houses[31]=['ул.Т.Снежиной, д.31/1',55.022086,83.013983,55.02213,83.014276,55.021735,83.014471,55.021686,83.014175,55.02192,83.014217];
	  houses[32]=['ул.Т.Снежиной, д.31/1',55.021558,83.014239,55.021599,83.014529,55.021183,83.014702,55.021144,83.014415,55.02139,83.014462];	  
	  houses[33]=['ул.Т.Снежиной, д.43',55.021855,83.019379,55.021906,83.01968,55.021509,83.019849,55.021477,83.019572,55.021708,83.01961];
	  houses[34]=['ул.Т.Снежиной, д.43',55.021437,83.019551,55.021385,83.019795,55.020907,83.019433,55.020979,83.019178,55.021189,83.019511];
	  houses[35]=['ул.Т.Снежиной, д.43/1',55.022218,83.018392,55.022149,83.018634,55.021686,83.018298,55.021754,83.018041,55.021964,83.018357];
	  houses[36]=['ул.Т.Снежиной, д.43/1',55.021634,83.017979,55.021669,83.018293,55.021312,83.018484,55.021254,83.018162,55.021488,83.018231];
	  houses[37]=['ул.Т.Снежиной, д.41',55.020693,83.018548,55.020742,83.018864,55.020356,83.019028,55.020316,83.018725,55.020539,83.018797];
	  houses[38]=['ул.Т.Снежиной, д.41',55.020293,83.018725,55.020241,83.018993,55.019773,83.018626,55.019838,83.018315,55.020058,83.018714];
	  houses[39]=['ул.Т.Снежиной, д.41/1',55.021005,83.017521,55.02095,83.017797,55.020522,83.017456,55.020573,83.017199,55.020753,83.017502];
	  houses[40]=['ул.Т.Снежиной, д.41/1',55.020438,83.017142,55.020462,83.017424,55.020093,83.017569,55.020055,83.017287,55.020275,83.017336];
	  houses[41]=['ул.Т.Снежиной, д.39',55.019504,83.017706,55.019549,83.018003,55.019172,83.018175,55.019123,83.017885,55.019349,83.017947];
	  houses[42]=['ул.Т.Снежиной, д.39',55.019072,83.017818,55.01902,83.018092,55.0186,83.017781,55.01866,83.017505,55.01888,83.017834];
	  houses[43]=['ул.Т.Снежиной, д.39/1',55.019832,83.01667,55.01977,83.016949,55.019386,83.016635,55.01943,83.01637,55.019586,83.016654];
	  houses[44]=['ул.Т.Снежиной, д.39/1',55.019313,83.016311,55.019335,83.016627,55.018958,83.016794,55.018909,83.016485,55.01917,83.016547];	  
	  houses[45]=['ул.Т.Снежиной, д.29/1',55.021749,83.011987,55.021331,83.01217,55.021276,83.011848,55.0217,83.011687,55.021528,83.011901];
	  houses[46]=['ул.Т.Снежиной, д.29/1',55.021146,83.011912,55.021196,83.012234,55.020796,83.012395,55.020747,83.012073,55.021023,83.012159];
	  houses[47]=['ул.Т.Снежиной, д.29',55.021245,83.011086,55.020439,83.011419,55.02039,83.011118,55.021208,83.010775,55.020863,83.011086];
/*	  houses[48]=['ул.Т.Снежиной, д.29/4',55.020667,83.012132,55.020713,83.012438,55.020544,83.012518,55.02051,83.012223,55.020611,83.012325];
	  houses[49]=['ул.Т.Снежиной, д.31/4',];
	  houses[50]=['ул.Т.Снежиной, д.45/4',];
	  houses[51]=['ул.Т.Снежиной, д.49/2',];*/
		//var sectorName = getsectorCaption(sectorData);
		for(var i=0; i<houses.length; i++)
	    {
		   var house=houses[i];
           var houseCoords = getHouseCoords(house[1],house[2],house[3],house[4],house[5],house[6],house[7],house[8]);
           var color = "#ffaaaa";
            
            var poligon = new google.maps.Polygon
            ({
               paths: houseCoords,
               strokeColor: color,
               strokeOpacity: 0.8,
               strokeWeight: 1,
               fillColor: color,
               fillOpacity: 0.7,
               title: 'дом'
             });        
             poligon.setMap(map);
			 
			 var position= new google.maps.LatLng(house[9],house[10]);
			 
			 markers[i] = new google.maps.Marker
             ({
           			 position: position,
           			 map: map,
           			 icon: new google.maps.MarkerImage ("http://chart.googleapis.com/chart?chst=d_map_pin_letter&chld=i|00FFFF"),
           			 title: house[0]
       		 });
			 
			 var caption = '<b>' + house[0] + "</b><br><a href='http://diskus-telecom.ru/component/artforms/?formid=1&hs="+house[0]+"'>Оставить заявку на подключение</a>";
			 addListClick(markers[i], position, caption)
			// google.maps.event.addListener(markers[i], "click", function(event) { showCaption( position, caption);}); 	
		} 
             infowindow = new google.maps.InfoWindow(); 
      }
	  
	  function addListClick(marker, position, caption){
	      google.maps.event.addListener(marker, "click", function(event) { showCaption( position, caption);}); 	
	  }
	  
	  
	 function showCaption( location, caption)
      {
	  
         infowindow.setContent(caption);
         infowindow.setPosition(location);
         infowindow.open(map);
      }
	  
	  
	 function getHouseCoords(lat1, lng1, lat2, lng2, lat3, lng3, lat4, lng4)
     {
    
        var houseCoords = 
        [
            new google.maps.LatLng(lat1, lng1),
            new google.maps.LatLng(lat2, lng2),
            new google.maps.LatLng(lat3, lng3),
			new google.maps.LatLng(lat4, lng4)
        ];

        return houseCoords;
    }

